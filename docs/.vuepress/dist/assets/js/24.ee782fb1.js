(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{340:function(t,e,a){"use strict";a.r(e);var l=a(0),n=Object(l.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("1.需求描述：编辑或新增一条数据，弹框modal操作，做表达校验")]),t._v(" "),a("p",[t._v("2.使用场景：新增或编辑角色，弹窗操作")]),t._v(" "),a("p",[t._v("3.问题描述：modal弹窗做from表达校验，点击确定，如果校验不通过，不应该自动关闭弹窗")]),t._v(" "),a("p",[t._v("4.解决思路：")]),t._v(" "),a("p",[t._v(".解决思路1：给Modal添加属性loading后，点击确定按钮对话框不会自动消失，并显示 loading 状态，需要手动关闭对话框，常用于表单提交。（本人用此方法）")]),t._v(" "),a("p",[t._v(".解决思路2：使用slot插入自定义的底部按钮组，在doSomething方法里面做条件判定，不满足的时候return就可以阻止数据提交，给出提示，并且不会关闭modal，你可以通过控制绑定的showRejectModal的值来控制其显示和关闭。")]),t._v(" "),a("p",[t._v(".解决方案1:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("handleSubmit(name) {\n      let self = this;\n      this.$refs[name].validate((valid) => {\n        setTimeout(() => {\n          this.loading = false;\n          this.$nextTick(() => {\n             this.loading = true;\n          });\n        }, 1000);\n      })\n    }\n")])])]),a("p",[a("img",{attrs:{src:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",alt:"点击并拖拽以移动"}})]),t._v(" "),a("p",[t._v(".解决方案2:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('<Modal title="xxx" v-model="showRejectModal">\n   \x3c!--重点就是下面的代码了--\x3e\n   <div slot="footer">\n    <Button type="text" size="large" @click="showRejectModal=false">取消</Button>\n    <Button type="primary" size="large" @click="doSomething">确定</Button>\n   </div>\n</Modal>\n')])])]),a("p",[a("img",{attrs:{src:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",alt:"点击并拖拽以移动"}})])])}),[],!1,null,null,null);e.default=n.exports}}]);