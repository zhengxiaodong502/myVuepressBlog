(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{368:function(e,t,o){"use strict";o.r(t);var r=o(0),_=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("p",[e._v("如今，越来越多与浏览器有关的 API 都是 "),o("em",[e._v("基于 "),o("code",[e._v("Promise")]),e._v(" 的")]),e._v(" 。当你使用 "),o("code",[e._v("promise")]),e._v(" 的时候通常配套用 "),o("code",[e._v(".then(处理方法)")]),e._v(" 或者 将 "),o("code",[e._v("promise")]),e._v(" 包裹在 "),o("code",[e._v("async")]),e._v(" 方法中，再使用 "),o("code",[e._v("await")]),e._v(" 来接收结果。")]),e._v(" "),o("p",[e._v("我们在 "),o("code",[e._v("JavaScript/TypeScript")]),e._v(" 中大量使用的东西，但如果在 "),o("code",[e._v("Console")]),e._v(" 中书写这样的结构很不方便。")]),e._v(" "),o("p",[e._v("像下面这样")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/12/1679e0201c187733?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:"img"}})]),e._v(" "),o("p",[e._v("或者这样")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/12/1679e020118e0846?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:"img"}})]),e._v(" "),o("p",[e._v("这样太难用了！不是输入之前就被触发了，就是括号漏写了...")]),e._v(" "),o("blockquote",[o("p",[o("strong",[e._v("但如果 "),o("code",[e._v("console")]),e._v(" 默认就被 "),o("code",[e._v("async")]),e._v(" 包裹呢？")])])]),e._v(" "),o("p",[e._v("你猜怎么着，还真是这样！你可以直接使用 "),o("code",[e._v("await")]),e._v(" ：")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/12/1679e0201c5c5fd7?imageslim",alt:"img"}})]),e._v(" "),o("p",[e._v("事实上,在 "),o("code",[e._v("Console")]),e._v(" 中使用 "),o("code",[e._v("promise")]),e._v(" 比在源码中使用起来还要简单！")]),e._v(" "),o("h2",{attrs:{id:"_1-用你的异步console-来看一些更酷的东西"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1-用你的异步console-来看一些更酷的东西"}},[e._v("#")]),e._v(" 1. 用你的异步"),o("code",[e._v("console")]),e._v(" 来看一些更酷的东西")]),e._v(" "),o("p",[e._v("我和你一样，觉得 "),o("code",[e._v("fetch")]),e._v(" 的例子相当无聊 -- 所以再来一个新玩法：通过 "),o("code",[e._v("console")]),e._v(" 来获取到更多有意思的信息。")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("Storage")]),e._v(" 系统的 "),o("strong",[e._v("占用数")]),e._v(" 和 "),o("strong",[e._v("空闲数")])])]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("await navigator.storage.estimate()\n")])])]),o("p",[o("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/12/1679e02019dbfde7?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:"img"}})]),e._v(" "),o("ul",[o("li",[e._v("设备的 "),o("strong",[e._v("电池信息")])])]),e._v(" "),o("p",[e._v("为了达到更好的效果，我们将这个技巧和前几天中提到的 "),o("code",[e._v("console.table")]),e._v(" 来合并使用：")]),e._v(" "),o("p",[e._v("敲黑板：这是一条"),o("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Battery_Status_API",target:"_blank",rel:"noopener noreferrer"}},[e._v("不推荐使用的API"),o("OutboundLink")],1),e._v(",尽管看起来这么酷炫...")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/12/1679e09d64ce9285?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:"img"}})]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("媒体能力")])])]),e._v(" "),o("p",[o("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/12/1679e0201c6930dc?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:"img"}})]),e._v(" "),o("ul",[o("li",[o("strong",[e._v("Cache storage keys")])])]),e._v(" "),o("p",[e._v("(注："),o("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cache storage keys"),o("OutboundLink")],1),e._v(" 一般用来对 "),o("code",[e._v("request")]),e._v(" 和 "),o("code",[e._v("response")]),e._v(" 进行缓存)")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/12/1679e02015fb7bc3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:"img"}})]),e._v(" "),o("p",[e._v("更多的例子就不一一举例了。")])])}),[],!1,null,null,null);t.default=_.exports}}]);